% -*- Mode:TeX -*-

%% IMPORTANT: The official thesis specifications are available at:
%%
%%            Please verify your thesis' formatting and copyright
%%            assignment before submission.  If you notice any
%%            discrepancies between these templates and the
%%            MIT Libraries' specs, please let us know
%%            by e-mailing thesis@mit.edu

%% The documentclass options along with the pagestyle can be used to generate
%% a technical report, a draft copy, or a regular thesis.  You may need to
%% re-specify the pagestyle after you \include  cover.tex.  For more
%% information, see the first few lines of mitthesis.cls. 

%\documentclass[12pt,vi,twoside]{mitthesis}
%%
%%  If you want your thesis copyright to you instead of MIT, use the
%%  ``vi'' option, as above.
%%
%\documentclass[12pt,twoside,leftblank]{mitthesis}
%%
%% If you want blank pages before new chapters to be labelled ``This
%% Page Intentionally Left Blank'', use the ``leftblank'' option, as
%% above. 
% Add all your packages here


\documentclass[12pt,twoside]{mitthesis}
\usepackage{enumerate}
\usepackage{graphicx}
\usepackage{booktabs}
%\def\spanishoptions{mexico}
%\usepackage[spanish]{babel}
%\usepackage[T1]{fontenc}
%\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{bm}
\usepackage{subcaption}
\usepackage{lgrind}
\usepackage{listings}
\usepackage{color}
\usepackage{float}
\usepackage{placeins}
\usepackage{times}

\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage{algpseudocode}

\usepackage{ifxetex}
\usepackage{tikz}

%For code Highlight
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{minted}

\usepackage{lipsum}

%\usepackage[a4paper,margin=1cm,landscape]{geometry}
\usetikzlibrary{positioning,shapes,shadows,arrows}

%%%<
\usepackage{verbatim}
%\usepackage[active,tightpage]{preview}

\ifxetex
  \usepackage{fontspec}
\else
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{lmodern}
\fi

\usepackage{caption}
%\DeclareCaptionFormat{myformat}{#1#2#3}
\newlength\myindention
\DeclareCaptionFormat{myformat}%
{#1#2#3 \hspace*{\myindention}}
\captionsetup{format=myformat}
% \captionsetup[lstlisting]{position=bottom,format=myformat}
\renewcommand{\lstlistingname}{Algoritmo}

%\bibliographystyle{named}

\usepackage{fancyhdr}
\pagestyle{fancy}

\fancyhead{}
\fancyfoot{}

%\fancyhead[RO,RE]{\fontsize{10}{12} \selectfont \thepage}
\fancyhead[LO]{\fontsize{10}{12} \selectfont \leftmark}
\fancyhead[LE]{\fontsize{10}{12} \selectfont \leftmark}

\renewcommand{\headrulewidth}{0.0pt}
\renewcommand{\footrulewidth}{0.0pt}

%\addto\captionsspanish{%
%  \renewcommand{\appendixname}%
%    {Anexos}%
%}

\PassOptionsToPackage{hyphens}{url}\usepackage{hyperref}

\usepackage{blindtext}
\usepackage{etoolbox}
\patchcmd{\chapter}{plain}{fancy}{}{}

% For list caption

\renewcommand{\lstlistingname}{Codigo}% Listing -> Codigo
\renewcommand{\lstlistlistingname}{Índice de \lstlistingname s}

\addto\captionsenglish{
   \renewcommand\listfigurename{Índice de Figuras}}

\addto\captionsenglish{
  \renewcommand\figurename{Fig}
}

\addto\captionsenglish{
  \renewcommand\contentsname{Índice general}
}

\captionsetup[table]{name=Tabla}

\AtBeginDocument{%
  \renewcommand{\lstlistingname}{Codigo}
}

\addto\captionsenglish{%
  \renewcommand{\lstlistingname}{Codigo}
}

\addto\captionsenglish{\renewcommand{\chaptername}{Capitulo}}

\renewcommand{\chaptername}{Capitulo}

\renewcommand{\listingscaption}{Codigo}
%\addto\captionsenglish{
%  \renewcommand\
%}

% List of equations
\usepackage{tocbibind}
\usepackage{tocloft}
\usepackage{xpatch}
\newcommand{\listequationsname}{List of Equations}
\newlistof{myequations}{equ}{\listequationsname}
\newcommand{\myequations}[1]{%
\addcontentsline{equ}{myequations}{\protect\numberline{\theequation}#1}\par}
\xpretocmd{\listofmyequations}{\addcontentsline{toc}{chapter}{\listequationsname}}{}{}

\def\all{all}
% \ifx\files\all \typeout{Including all files.} \else \typeout{Including only \files.} \includeonly{\files} \fi

\usepackage[most]{tcolorbox}
\newtcblisting{Heardlisting}[2][]{%
empty,
boxsep=0pt,left=0pt,right=0pt,boxrule=2pt,leftrule=0pt,rightrule=0pt,
lefthand width=.4\linewidth,
segmentation engine=path,
segmentation style={solid,line width=1pt},
comment side listing,
fontupper=\itshape\sffamily,
listing options={% put any listing options here
    language={Haskell},
    aboveskip=0pt, belowskip=0pt,
    basicstyle=\ttfamily,columns=fullflexible},
comment={#2},#1
}

\begin{document}

\include{cover}
% Some departments (e.g. 5) require an additional signature page.  See
% signature.tex for more information and uncomment the following line if
% applicable.
% \include{signature}

%\pagestyle{plain}
\pagestyle{fancy}
\rfoot{\thepage}
%\fancyfoot[R]{\thepage}
\setcounter{page}{1}
\renewcommand{\thepage}{\roman{page}}% Roman numerals for page counter
\include{contents}
\setcounter{page}{1}
\renewcommand{\thepage}{\arabic{page}}
\include{chap1}
\include{chap2}
\include{chap3}
\include{chap4}
\include{chap5}
\include{chap6}
%\include{chap7}
%\include{chap8}
%\include{chap9}
\appendix
\setcounter{secnumdepth}{1}
\include{biblio}
\include{appa}
%\include{appb}
\end{document}

